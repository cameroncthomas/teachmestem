{% extends 'home/base.html' %}
{% load static %}
{% load django_bootstrap5 %}
{% block title %}
    Course Registration ·
{% endblock title %}
{% block breadcrumb %}
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a 
                    href="{% url 'home:index' %}"
                    class="text-info link-secondary link-underline-opacity-0">
                    Home
                </a>
            </li>
            <li class="breadcrumb-item">
                <a 
                    href="{% url 'courses:courses' %}"
                    class="text-info link-secondary link-underline-opacity-0">
                    Courses
                </a>
            </li>
            <li class="breadcrumb-item" aria-current="page">Register</li>
        </ol>
    </nav>
{% endblock breadcrumb %}
{% block page_header %}
    <h1 class="border-none pb-2 my-3 d-flex justify-content-center display-5 fw-bold text-body-emphasis">Course Registration</h1>
{% endblock page_header %}
{% block content_1 %}
    <div class="container">
        <p class="d-flex justify-content-center mb-2">Please fill in the details below to register interest in the course.</p>
        <div class="d-flex justify-content-center my-5">
            <div 
                class="rounded-5 text-center h-100 py-4 px-5"
                href="{% url 'courses:courses_register' course.id %}">
                <h5 class="d-flex justify-content-center fw-semibold mb-2">Course</h5>
                <div class="card-header border-0 pt-4">
                    <img
                        class="card-img-top"
                        alt="course subject symbol"
                        src="{% static 'images/'|add:course.examboard.subject.slug|add:'.svg' %}"
                        width="90"
                        height="90">
                    <h6 class="card-subtitle text-body-secondary pt-4 pb-2">{{ course.examboard.subject.qualification }} · {{ course.examboard }}</h6>
                    <h5 class="mt-2 card-title">{{ course.examboard.subject }}</h5>
                </div>
                <div class="card-body">
                    <h5 class="mt-3 card-title">🗓️ {{ course.date|date:"j F Y" }}</h5>
                    <h5 class="mt-3 card-title">💷 £{{ course.price|floatformat:0 }}</h5>
                    <h5 class="mt-3 card-title">🎓 Dr {{ course.instructor.first_name|title }}</h5>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center">            
            <form action="{% url 'courses:courses_register' course.id %}" method='post'
                style="min-width: 35%;">
                {% csrf_token %}
                <input type="hidden" name="course" maxlength="200" class="form-control" required id="id_course" value="{{ course.id }}">
                {% bootstrap_form form exclude="course" layout="floating" %}
                <div class="d-flex justify-content-center mt-4">
                    <button class="btn btn-primary-tms rounded-pill px-4 py-2 border-0" type="submit">Register</button>
                </div>
            </form>
        </div>
    </div>
{% endblock content_1 %}
